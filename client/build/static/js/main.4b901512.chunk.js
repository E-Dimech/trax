(this.webpackJsonptrax=this.webpackJsonptrax||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/roller-coaster.361f6438.svg"},27:function(e,t,a){e.exports=a.p+"static/media/coastertrax.2474bc3b.png"},28:function(e,t,a){e.exports=a.p+"static/media/tracks.c3e55cbc.svg"},29:function(e,t,a){e.exports=a.p+"static/media/wheel.476d525a.png"},32:function(e,t,a){e.exports=a.p+"static/media/coasterperson.1fcf7e72.svg"},44:function(e,t,a){e.exports=a.p+"static/media/traxLogo.fb3e8f7e.png"},45:function(e,t,a){e.exports=a.p+"static/media/Nature landscape background.2c6fa4f4.jpg"},46:function(e,t,a){e.exports=a.p+"static/media/coasterTrain.ae19dc55.png"},49:function(e,t,a){e.exports=a.p+"static/media/maverick.5acf7718.png"},50:function(e,t,a){e.exports=a.p+"static/media/762a7944437539.58125ca053280.f3a23c06.gif"},51:function(e,t,a){e.exports=a.p+"static/media/clipart1941272.b8ed6ab8.png"},52:function(e,t,a){e.exports=a.p+"static/media/clipart242612.72489012.png"},54:function(e,t,a){e.exports=a.p+"static/media/mic.b741c76b.svg"},55:function(e,t,a){e.exports=a.p+"static/media/magnifier.fb5f8b5b.svg"},56:function(e,t,a){e.exports=a.p+"static/media/coasterPeople.620f8f19.svg"},57:function(e,t,a){e.exports=a.p+"static/media/hiclipart.com.d6d59798.png"},58:function(e,t,a){e.exports=a(99)},63:function(e,t,a){},64:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(43),r=a.n(c),o=(a(63),a(19)),i=a(3),l=a(44),m=a.n(l),u=a(45),p=a.n(u),d=a(27),h=a.n(d),f=a(28),g=a.n(f),_=a(46),E=a.n(_),b=a(29),v=a.n(b);a(64);var N=function(){return s.a.createElement("div",{className:"welcome-page"},s.a.createElement(s.a.Fragment,null,s.a.createElement(o.b,{to:"/Landing"},s.a.createElement("img",{className:"welcome-page__image",src:m.a,alt:"trax"}))),s.a.createElement("img",{className:"welcome-page__sky",src:p.a,alt:"night sky"}),s.a.createElement("img",{className:"welcome-page__coaster-skyline1",src:h.a,alt:"coaster lift hill"}),s.a.createElement("img",{className:"welcome-page__coaster-skyline2",src:h.a,alt:"coaster lift hill"}),s.a.createElement("img",{className:"welcome-page__coaster-tracks1",src:g.a,alt:"coaster tracks"}),s.a.createElement("img",{className:"welcome-page__coaster-tracks2",src:g.a,alt:"coaster tracks"}),s.a.createElement("img",{className:"welcome-page__coaster-train",src:E.a,alt:"coaster train"}),s.a.createElement("img",{className:"welcome-page__coaster-wheel1",src:v.a,alt:"coaster wheel"}),s.a.createElement("img",{className:"welcome-page__coaster-wheel2",src:v.a,alt:"coaster wheel"}))},w=a(12),C=a(13),y=a(23),k=a(15),S=a(14),x=a(8),O=a.n(x),j=O.a.initializeApp({apiKey:"AIzaSyC-ZfR1rr3xEESMkDnz_AoqwXyyEh4111s",authDomain:"trax-57508.firebaseapp.com",databaseURL:"https://trax-57508.firebaseio.com",projectId:"trax-57508",storageBucket:"trax-57508.appspot.com",messagingSenderId:"766748523509",appId:"1:766748523509:web:b2992cf1b654b4726dbebc",measurementId:"G-4956C08L3T"}),L=a(48),A=(a(79),function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).login=function(e){e.preventDefault(),j.auth().signInWithEmailAndPassword(n.state.email,n.state.password).then((function(e){O.a.database().ref("users/"+e.user.uid).update({uid:e.user.uid,email:e.user.email})})).then((function(e){console.log("Successfully Logged in")})).catch((function(e){console.log(e)}))},n.signUp=function(e){e.preventDefault(),j.auth().createUserWithEmailAndPassword(n.state.email,n.state.password).then((function(e){O.a.database().ref("users/"+e.user.uid).set({uid:e.user.uid,email:e.user.email})})).then((function(e){console.log("Successful Signup")})).catch((function(e){console.log(e)}))},n.handleChange=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.state={email:"",password:""},n}return Object(C.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"login-form__heading"},"TRAX"),s.a.createElement("div",{className:"login-form"},s.a.createElement("form",{className:"login-form__form"},s.a.createElement("div",{className:"login-form__email-container"},s.a.createElement("label",{className:"login-form__label"},"Email Address"),s.a.createElement("input",{className:"login-form__input",value:this.state.email,onChange:this.handleChange,id:"email",type:"email",name:"email"})),s.a.createElement("div",{className:"login-form__password-container"},s.a.createElement("label",{className:"login-form__label"},"Password"),s.a.createElement("input",{className:"login-form__input",value:this.state.password,onChange:this.handleChange,id:"password",type:"password",name:"password"})),s.a.createElement("div",{className:"login-form__button-container"},s.a.createElement("button",{className:"login-form__button-login",type:"submit",onClick:this.login},"Login"),s.a.createElement("button",{className:"login-form__button-signup",type:"submit",onClick:this.signUp},"Signup")))))}}]),a}(s.a.Component)),D=a(49),T=a.n(D),F=a(50),R=a.n(F),I=a(24),M=a.n(I),P=a(51),q=a.n(P),W=a(52),B=a.n(W),H=(a(80),function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={credCount:null,topFavCoasterNames:null},e.howMany=function(t){O.a.database().ref("users/"+t).once("value").then((function(t){var a=t.child("credit").numChildren();e.setState({credCount:a})}))},e.showFavourite=function(t){O.a.database().ref("users/"+t).child("favourite").on("value",(function(t){if(t.val()){var a=Object.values(t.val()).map((function(e){return e.top5}));e.setState({topFavCoasterNames:a})}}))},e}return Object(C.a)(a,[{key:"logout",value:function(){j.auth().signOut()}},{key:"componentDidMount",value:function(){this.howMany(this.props.uid),this.showFavourite(this.props.uid)}},{key:"render",value:function(){var e=this.state.topFavCoasterNames,t=[];return e&&e.forEach((function(e,a){t.push(e,s.a.createElement("br",{key:a}))})),s.a.createElement("div",{className:"welcome"},s.a.createElement("h1",{className:"welcome__title"},"TRAX"),s.a.createElement("div",{className:"welcome__img-container"},s.a.createElement("img",{className:"welcome__image",src:T.a,alt:"maverick"}),s.a.createElement("img",{className:"welcome__loop",src:q.a,alt:"coaster loop"}),s.a.createElement("img",{className:"welcome__cred-bubble",src:B.a,alt:"text bubble"}),s.a.createElement("p",{className:"welcome__cred-bubble--text"},"CREDITS"),s.a.createElement("p",{className:"welcome__cred-bubble--creds"},this.state.credCount)),s.a.createElement("div",{className:"welcome__link-container"},s.a.createElement(o.b,{to:{pathname:"/Search",state:{uid:this.props.uid}}},s.a.createElement("button",{className:"welcome__add-credit"},"Add Credits"))),s.a.createElement("div",{className:"box"},s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("div",{className:"content"},s.a.createElement("p",{className:"welcome__fav-coasters-title"},"TOP COASTERS"),s.a.createElement("p",{className:"welcome__fav-coasters-list"},t))),s.a.createElement("img",{className:"welcome__bottom-image",src:R.a,alt:"Ghost Rider"}),s.a.createElement("div",{className:"welcome__logout-container"},s.a.createElement("button",{className:"welcome__logout-button",onClick:this.logout},"Logout")),s.a.createElement("img",{className:"welcome__bottom-coaster",src:M.a,alt:"cartoon coaster"}),s.a.createElement("div",{className:"welcome__bottom-space"}))}}]),a}(s.a.Component)),U=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={user:null},n.authListener=n.authListener.bind(Object(y.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;j.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.user?s.a.createElement(H,{uid:this.state.user.uid}):s.a.createElement(A,null))}}]),a}(s.a.Component),X=a(53),z=a.n(X),G=(a(97),a(54)),J=a.n(G),K=a(55),Z=a.n(K),$=a(32),Q=a.n($),V=a(56),Y=a.n(V),ee=a(57),te=a.n(ee),ae=new(window.SpeechRecognition||window.webkitSpeechRecognition),ne=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).fetchSearchResults=function(e){e.preventDefault();z.a.get("/search",{params:{query:n.state.query}}).then((function(e){n.setState({results:e.data}),console.log(e.data)})).catch((function(e){console.log(e,"Where are all the coasters?")}))},n.handleOnInputChange=function(e){var t=e.target.value;n.setState({query:t})},n.handleListen=function(){n.state.isListening?(ae.start(),ae.onend=function(){console.log("continue..."),ae.start()}):(ae.stop(),ae.onend=function(){console.log("stopped mic")}),ae.onstart=function(){console.log("mic on")},ae.onresult=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript.toLowerCase()})).join("");n.setState({query:t}),ae.onerror=function(e){console.log(e.error)}}},n.handleSubmit=function(e){e.preventDefault(),n.setState({isListening:!1})},n.addCredit=function(e){e.preventDefault(),O.a.database().ref("users/"+n.props.location.state.uid).child("credit").push({creditName:n.state.results.name}),n.howMany()},n.howMany=function(){O.a.database().ref("users/"+n.props.location.state.uid).once("value").then((function(e){var t=e.child("credit").numChildren();n.setState({credCount:t})}))},n.addFavourite=function(e){e.preventDefault(),O.a.database().ref("users/"+n.props.location.state.uid).child("favourite").push({top5:n.state.results.name}),n.showFavourite()},n.showFavourite=function(){O.a.database().ref("users/"+n.props.location.state.uid).child("favourite").on("value",(function(e){if(e.val()){var t=Object.values(e.val()).map((function(e){return e.top5}));n.setState({topFavCoasterNames:t})}}))},n.state={query:"",results:{},message:"",credCount:null,topFavCoasterNames:null,isListening:!1},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props),window.scrollTo(0,0),this.howMany(),this.showFavourite()}},{key:"render",value:function(){var e=this,t=this.state,a=t.query,n=t.results,c=t.credCount,r=t.topFavCoasterNames,o=[];return r&&r.forEach((function(e,t){o.push(e,s.a.createElement("br",{key:t}))})),s.a.createElement("div",{className:"coaster-credit"},s.a.createElement("h2",{className:"coaster-credit__heading"},"TRAX"),s.a.createElement("img",{className:"coaster-credit__cartoon-image",src:M.a,alt:"cartoon coaster"}),s.a.createElement("h2",{className:"coaster-credit__title"},"Total Coaster Credits"),s.a.createElement("p",{className:"coaster-credit__credit-count"},c),s.a.createElement("h3",{className:"coaster-credit__fav-title"},"Top Coasters"),s.a.createElement("p",{className:"coaster-credit__favourites"},o),s.a.createElement("div",{className:"coaster-credit__coaster-peeps-container"},s.a.createElement("img",{className:"coaster-credit__coaster-peeps-single",src:Q.a,alt:"test"}),s.a.createElement("img",{className:"coaster-credit__coaster-peeps-double",src:Y.a,alt:"test"}),s.a.createElement("img",{className:"coaster-credit__coaster-peeps-single",src:Q.a,alt:"test"})),s.a.createElement("form",{onSubmit:function(t){return e.fetchSearchResults(t)}},s.a.createElement("label",{className:"coaster-credit__search-label",htmlFor:"search-input"},s.a.createElement("input",{className:"coaster-credit__search-input",name:"query",type:"text",value:a,id:"search-input",placeholder:"Enter Coaster Name...",onChange:function(t){return e.handleOnInputChange(t)},onSubmit:function(){e.handleSubmit()}}),s.a.createElement("img",{className:"coaster-credit__search-icon",src:Z.a,alt:"search"}),s.a.createElement("img",{className:"coaster-credit__mic-icon",src:J.a,alt:"microphone",onClick:function(){e.setState({isListening:!e.state.isListening}),console.log(e.state.isListening),e.handleListen()}}))),this.state.results.hasOwnProperty("park")&&s.a.createElement("div",{className:"coaster-credit__search-stats"},s.a.createElement("p",{className:"coaster-credit__search-stats-name"},"COASTER: ",n.name," "),s.a.createElement("p",{className:"coaster-credit__search-stats-park"},"PARK: ",n.park),s.a.createElement("p",{className:"coaster-credit__search-stats-height"},"HEIGHT: ",n.height," m"," "),s.a.createElement("p",{className:"coaster-credit__search-stats-speed"},"SPEED: ",n.speed," mph"," "),s.a.createElement("img",{className:"coaster-credit__search-stats-image",src:n.image,alt:"coaster"}),s.a.createElement("button",{onClick:this.addCredit,className:"coaster-credit__search-stats-add-button"},"ADD COASTER CREDIT"),s.a.createElement("button",{onClick:this.addFavourite,className:"coaster-credit__search-stats-add-button"},"ADD TO TOP COASTERS")),s.a.createElement("button",{className:"coaster-credit__search-stats-home-button",onClick:this.props.history.goBack},"Home"),s.a.createElement("img",{className:"coaster-credit__search-stats-bottom-logo",src:te.a,alt:"leviathan"}))}}]),a}(s.a.Component);a(98);var se=function(){return s.a.createElement(o.a,null,s.a.createElement(i.c,null,s.a.createElement(i.a,{exact:!0,path:"/",component:N}),s.a.createElement(i.a,{path:"/Landing",component:U}),s.a.createElement(i.a,{path:"/Login",component:A}),s.a.createElement(i.a,{path:"/Home",component:H}),s.a.createElement(i.a,{path:"/Search",component:ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.4b901512.chunk.js.map